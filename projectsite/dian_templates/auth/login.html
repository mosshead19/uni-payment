{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - OrgFee Payment System</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Custom animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-slideIn {
            animation: slideIn 0.6s ease-out;
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Gradient background */
        .gradient-bg {
            background: linear-gradient(135deg, #10b981 0%, #059669 50%, #f97316 100%);
            background-size: 200% 200%;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #10b981;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #059669;
        }

        /* Decorative circles */
        .circle-decoration {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 gradient-bg relative overflow-hidden">
    
    <!-- Decorative Elements -->
    <div class="circle-decoration bg-white" style="width: 300px; height: 300px; top: -100px; left: -100px;"></div>
    <div class="circle-decoration bg-white" style="width: 200px; height: 200px; bottom: -50px; right: -50px;"></div>
    <div class="circle-decoration bg-orange-500" style="width: 150px; height: 150px; top: 50%; right: 10%;"></div>
    
    <div class="w-full max-w-md relative z-10">
        <!-- Header -->
        <div class="text-center mb-8 animate-fadeIn">
            <div class="inline-block mb-4 animate-float">
                <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg">
                    <i data-lucide="wallet" class="w-10 h-10 text-green-600"></i>
                </div>
            </div>
            <h1 class="text-4xl font-bold text-white mb-2 drop-shadow-lg">OrgFee Payment System</h1>
            <p class="text-xl text-green-50">Queue-free enrollment payment portal</p>
        </div>

        <!-- Tabs Container -->
        <div class="bg-white rounded-2xl shadow-2xl overflow-hidden animate-slideIn">
            <!-- Tab Headers -->
            <div class="grid grid-cols-2 bg-gradient-to-r from-green-50 to-orange-50 p-1.5 gap-1.5">
                <button 
                    class="tab-trigger flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition-all duration-300 active"
                    data-tab="student"
                    onclick="switchTab('student')">
                    <i data-lucide="graduation-cap" class="w-5 h-5"></i>
                    <span>Student</span>
                </button>
                <button 
                    class="tab-trigger flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold transition-all duration-300"
                    data-tab="officer"
                    onclick="switchTab('officer')">
                    <i data-lucide="shield" class="w-5 h-5"></i>
                    <span>Officer</span>
                </button>
            </div>

            <!-- Tab Contents -->
            <div class="p-8">
                <!-- Student Login Form -->
                <div id="student-tab" class="tab-content">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-slate-800 mb-2 flex items-center gap-2">
                            <i data-lucide="user-circle" class="w-6 h-6 text-green-600"></i>
                            Student Login
                        </h2>
                        <p class="text-slate-600">Access your payment dashboard and manage fees</p>
                    </div>

                    <form method="POST" action="{% url 'student_login' %}" class="space-y-5">
                        {% csrf_token %}
                        
                        <!-- Student ID Field -->
                        <div class="space-y-2">
                            <label for="studentId" class="block text-sm font-semibold text-slate-700">
                                <i data-lucide="id-card" class="w-4 h-4 inline mr-1"></i>
                                Student ID
                            </label>
                            <input
                                id="studentId"
                                name="student_id"
                                type="text"
                                placeholder="2021-12345"
                                required
                                class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 hover:border-green-300"
                            />
                        </div>

                        <!-- Password Field -->
                        <div class="space-y-2">
                            <label for="studentPassword" class="block text-sm font-semibold text-slate-700">
                                <i data-lucide="lock" class="w-4 h-4 inline mr-1"></i>
                                Password
                            </label>
                            <input
                                id="studentPassword"
                                name="password"
                                type="password"
                                placeholder="Enter your password"
                                required
                                class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 hover:border-green-300"
                            />
                        </div>

                        <!-- Submit Button -->
                        <button
                            type="submit"
                            class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]"
                        >
                            <i data-lucide="log-in" class="w-5 h-5 inline mr-2"></i>
                            Login to Dashboard
                        </button>

                        <!-- Demo Credentials Box -->
                        <div class="mt-5 p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-200 shadow-sm">
                            <p class="text-sm font-bold text-green-800 mb-2 flex items-center gap-2">
                                <i data-lucide="info" class="w-4 h-4"></i>
                                Demo Credentials
                            </p>
                            <p class="text-sm text-green-700 mb-1">
                                Student ID: <code class="bg-white px-2 py-1 rounded text-xs font-mono border border-green-200">2021-12345</code>
                            </p>
                            <p class="text-sm text-green-700">
                                Password: <code class="bg-white px-2 py-1 rounded text-xs font-mono border border-green-200">student123</code>
                            </p>
                        </div>

                        <!-- Forgot Password Link -->
                        <div class="text-center">
                            <a href="#" class="text-sm text-green-600 hover:text-green-700 font-medium hover:underline">
                                Forgot your password?
                            </a>
                        </div>
                    </form>
                </div>

                <!-- Officer Login Form -->
                <div id="officer-tab" class="tab-content hidden">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-slate-800 mb-2 flex items-center gap-2">
                            <i data-lucide="shield-check" class="w-6 h-6 text-orange-600"></i>
                            Officer Login
                        </h2>
                        <p class="text-slate-600">Access payment processing dashboard</p>
                    </div>

                    <form method="POST" action="{% url 'officer_login' %}" class="space-y-5">
                        {% csrf_token %}
                        
                        <!-- Email Field -->
                        <div class="space-y-2">
                            <label for="officerEmail" class="block text-sm font-semibold text-slate-700">
                                <i data-lucide="mail" class="w-4 h-4 inline mr-1"></i>
                                Email Address
                            </label>
                            <input
                                id="officerEmail"
                                name="email"
                                type="email"
                                placeholder="officer@admin.edu"
                                required
                                class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 hover:border-orange-300"
                            />
                        </div>

                        <!-- Password Field -->
                        <div class="space-y-2">
                            <label for="officerPassword" class="block text-sm font-semibold text-slate-700">
                                <i data-lucide="lock" class="w-4 h-4 inline mr-1"></i>
                                Password
                            </label>
                            <input
                                id="officerPassword"
                                name="password"
                                type="password"
                                placeholder="Enter your password"
                                required
                                class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 hover:border-orange-300"
                            />
                        </div>

                        <!-- Submit Button -->
                        <button
                            type="submit"
                            class="w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]"
                        >
                            <i data-lucide="log-in" class="w-5 h-5 inline mr-2"></i>
                            Login to Dashboard
                        </button>

                        <!-- Demo Credentials Box -->
                        <div class="mt-5 p-4 bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl border-2 border-orange-200 shadow-sm">
                            <p class="text-sm font-bold text-orange-800 mb-2 flex items-center gap-2">
                                <i data-lucide="info" class="w-4 h-4"></i>
                                Demo Credentials
                            </p>
                            <p class="text-sm text-orange-700 mb-1">
                                Email: <code class="bg-white px-2 py-1 rounded text-xs font-mono border border-orange-200">officer@admin.edu</code>
                            </p>
                            <p class="text-sm text-orange-700">
                                Password: <code class="bg-white px-2 py-1 rounded text-xs font-mono border border-orange-200">officer123</code>
                            </p>
                        </div>

                        <!-- Forgot Password Link -->
                        <div class="text-center">
                            <a href="#" class="text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline">
                                Forgot your password?
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Error/Success Messages -->
        {% if messages %}
        <div class="mt-5 space-y-3 animate-fadeIn">
            {% for message in messages %}
            <div class="p-4 rounded-xl shadow-lg backdrop-blur-sm {% if message.tags == 'error' %}bg-red-500/90 border-2 border-red-300{% elif message.tags == 'success' %}bg-green-500/90 border-2 border-green-300{% else %}bg-orange-500/90 border-2 border-orange-300{% endif %}">
                <p class="text-white font-semibold flex items-center gap-2">
                    {% if message.tags == 'error' %}
                        <i data-lucide="alert-circle" class="w-5 h-5"></i>
                    {% elif message.tags == 'success' %}
                        <i data-lucide="check-circle" class="w-5 h-5"></i>
                    {% else %}
                        <i data-lucide="info" class="w-5 h-5"></i>
                    {% endif %}
                    {{ message }}
                </p>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Footer -->
        <div class="text-center mt-6 text-white/80 text-sm">
            <p>College of Sciences â€¢ University Payment System</p>
            <p class="mt-1">Need help? <a href="#" class="underline hover:text-white">Contact Support</a></p>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Tab switching functionality with smooth transition
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
                content.style.opacity = '0';
            });

            // Remove active class from all triggers
            document.querySelectorAll('.tab-trigger').forEach(trigger => {
                trigger.classList.remove('active', 'bg-white', 'shadow-lg', 'scale-105');
                if (trigger.dataset.tab === 'student') {
                    trigger.classList.remove('text-green-700');
                    trigger.classList.add('text-slate-600', 'hover:text-slate-900');
                } else {
                    trigger.classList.remove('text-orange-700');
                    trigger.classList.add('text-slate-600', 'hover:text-slate-900');
                }
            });

            // Show selected tab content with fade in
            const selectedContent = document.getElementById(tabName + '-tab');
            selectedContent.classList.remove('hidden');
            setTimeout(() => {
                selectedContent.style.opacity = '1';
            }, 50);

            // Add active class to selected trigger
            const activeTrigger = document.querySelector(`[data-tab="${tabName}"]`);
            activeTrigger.classList.add('active', 'bg-white', 'shadow-lg', 'scale-105');
            activeTrigger.classList.remove('text-slate-600', 'hover:text-slate-900');
            
            if (tabName === 'student') {
                activeTrigger.classList.add('text-green-700');
            } else {
                activeTrigger.classList.add('text-orange-700');
            }
        }

        // Initialize first tab as active
        document.addEventListener('DOMContentLoaded', function() {
            switchTab('student');
            lucide.createIcons(); // Re-initialize icons after tab switch
        });

        // Smooth transitions for tab content
        document.querySelectorAll('.tab-content').forEach(content => {
            content.style.transition = 'opacity 0.3s ease-in-out';
        });
    </script>
</body>
</html>